# Summary: MySQL Service Configuration
# Description:
# Provides internal network access to the MySQL StatefulSet using a ClusterIP Service.
# This keeps the database accessible only within the cluster and prevents external exposure.

apiVersion: v1
kind: Service
metadata:
  name: {{ .Chart.Name }}-mysql                   # Internal DNS name for MySQL
spec:
  type: ClusterIP                                 # Internal-only service
  selector:
    app: mysql                                    # Target pods with label: app=mysql
  ports:
    - port: 3306                                  # MySQL service port
      targetPort: {{ .Values.mysql.port }}        # MySQL container port

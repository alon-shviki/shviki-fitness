# Summary: Kubernetes Secret for MySQL Credentials
# Description:
# This manifest defines a Kubernetes Secret that securely stores sensitive MySQL credentials.
# Helm automatically substitutes the values from values.yaml and injects them into the cluster
# as a secure Secret, ensuring that passwords are not stored in plain text within your Deployment manifests.

# Secret Configuration
apiVersion: v1
kind: Secret
metadata:
  name: {{ .Values.mysql.secretName }}            # Name of the secret, defined in values.yaml
type: Opaque                                     # Standard Kubernetes Secret type for key-value data

# Secret Data (Injected from values.yaml)
stringData:
  MYSQL_ROOT_PASSWORD: {{ .Values.secret.mysql.rootPassword }}   # Root password for MySQL
  MYSQL_PASSWORD: {{ .Values.secret.mysql.userPassword }}        # Regular MySQL user password
  MYSQL_USER: {{ .Values.mysql.user }}                           # MySQL username used by the app
  MYSQL_DATABASE: {{ .Values.mysql.database }}                   # Database name to create or connect to
